<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>å®éªŒæ’ç­ - æŠ—èŒå®éªŒç³»ç»Ÿ</title>

<style>
:root{
    --primary:#2E7D32;
    --primary-light:#A5D6A7;
    --bg:#F5F7FA;
    --text:#263238;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",å¾®è½¯é›…é»‘,sans-serif;
    background:var(--bg);
    color:var(--text);
}
header{
    background:white;
    padding:16px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:1px solid #DDD;
}
nav a{
    margin-left:16px;
    text-decoration:none;
    color:var(--text);
    padding:6px 10px;
    border-radius:999px;
}
nav a:hover{
    background:var(--primary-light);
    color:white;
}
main{
    max-width:1200px;
    margin:24px auto;
    padding:0 16px;
}
.section-title{
    font-size:20px;
    margin:20px 0;
    color:var(--primary);
}
.week-board{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
    gap:16px;
}
.card{
    background:white;
    padding:16px;
    border-radius:12px;
    box-shadow:0 2px 5px rgba(0,0,0,0.05);
}
.task-title{
    font-weight:600;
    margin-bottom:6px;
}
.task-time{
    font-size:13px;
    color:#555;
}
.task-status{
    margin-top:10px;
    padding:6px 10px;
    display:inline-block;
    border-radius:8px;
    cursor:pointer;
    font-size:13px;
    color:white;
}
.status-æœªå¼€å§‹{background:#9CA3AF;}
.status-è¿›è¡Œä¸­{background:#2563EB;}
.status-å·²å®Œæˆ{background:#10B981;}
</style>
</head>

<body>

<header>
    <h1>å®éªŒæ’ç­ï¼ˆçœ‹æ¿è§†å›¾ï¼‰</h1>
    <nav>
        <a href="index.html">é¦–é¡µ</a>
        <a href="schedule.html">å®éªŒæ’ç­</a>
        <a href="schedule_table.html">æ’ç­è¡¨æ ¼</a>
        <a href="layout.html">å®éªŒå¸ƒå±€</a>
        <a href="entry.html">æ•°æ®å½•å…¥</a>
        <a href="sop.html">SOP</a>
    </nav>
</header>

<main>

<h2 class="section-title">ğŸ—“ï¸ ç¬¬ 1 å‘¨è®¡åˆ’ï¼ˆæ›´æ–°åï¼‰</h2>
<div id="week1" class="week-board"></div>

<h2 class="section-title">ğŸ—“ï¸ ç¬¬ 2 å‘¨è®¡åˆ’ï¼ˆå»ºè®®ç‰ˆï¼‰</h2>
<div id="week2" class="week-board"></div>

</main>


<script>
// ======================= LocalStorage æ•°æ®ç»“æ„ ========================= //

const LS_KEY = "SCHEDULE_TASKS";

function loadTasks(){
    const saved = localStorage.getItem(LS_KEY);
    if(saved){
        return JSON.parse(saved);
    } else {
        // é»˜è®¤ä»»åŠ¡ï¼ˆä½ ä¼šè®®åçš„æ­£å¼ç‰ˆï¼‰
        return {
            week1: [
                {date:"å‘¨å››", time:"14:00â€“18:00", title:"èŒæ¶²æ¥ç§ï¼ˆ4 èŒç§ï¼‰", note:"EC / BS / AS / PS 50mL", status:"æœªå¼€å§‹"},
                {date:"å‘¨äº”", time:"9:00â€“12:00", title:"æ¤ç‰©å‰ªç¢ï¼ˆ10 ç§ï¼‰", note:"åˆ€å…·æ¶ˆæ¯’ï¼›å»æ‚è´¨", status:"æœªå¼€å§‹"},
                {date:"å‘¨äº”", time:"14:00â€“18:00", title:"æ¤ç‰©çƒ˜å¹²ï¼ˆç¬¬ä¸€æ‰¹ï¼‰", note:"55â€“60â„ƒï¼›è®°å½•é‡é‡", status:"æœªå¼€å§‹"},
                {date:"å‘¨æ—¥", time:"9:00â€“16:00", title:"ä¹™é†‡åˆæ­¥æµ¸æ", note:"æ–™æ¶²æ¯” 1:20ï¼›æ°´æµ´ 2h", status:"æœªå¼€å§‹"},
                {date:"ä¸‹å‘¨ä¸€", time:"9:00â€“12:00", title:"æ—‹è’¸æµ“ç¼©ï¼ˆç¬¬ä¸€æ‰¹ï¼‰", note:"45â€“50â„ƒï¼›å®šå®¹ 20mL", status:"æœªå¼€å§‹"}
            ],
            week2: [
                {date:"å‘¨äºŒ", time:"å…¨å¤©", title:"èŒæ¶²åŸ¹å…»çŠ¶æ€æ£€æŸ¥", note:"OD æˆ–èŒè½è§‚å¯Ÿ", status:"æœªå¼€å§‹"},
                {date:"å‘¨ä¸‰", time:"14:00â€“18:00", title:"æŠ‘èŒåœˆè¯•éªŒ EC/BS", note:"æŒ‰ 8 å—å¹³æ¿æ–¹æ¡ˆå¸ƒç½®", status:"æœªå¼€å§‹"},
                {date:"å‘¨å››", time:"9:00â€“12:00", title:"æŠ‘èŒåœˆæ‹ç…§ + æµ‹å¾„", note:"æ¸¸æ ‡å¡å°ºæµ‹é‡", status:"æœªå¼€å§‹"},
                {date:"å‘¨äº”", time:"14:00â€“18:00", title:"MIC å¸ƒæ¿ï¼ˆECï¼‰", note:"æŒ‰ 96 å­”æ¿å¸ƒå±€", status:"æœªå¼€å§‹"},
                {date:"å‘¨æ—¥", time:"13:00â€“17:00", title:"MIC ç»“æœè¯»å–", note:"è®°å½•æœ€ä½æŠ‘åˆ¶æµ“åº¦", status:"æœªå¼€å§‹"}
            ]
        };
    }
}

function saveTasks(){
    localStorage.setItem(LS_KEY, JSON.stringify(tasks));
}


// åˆå§‹åŒ–ä»»åŠ¡æ•°æ®
const tasks = loadTasks();


// ======================= æ¸²æŸ“å‡½æ•° ======================= //

function renderTasks(containerId, listName){
    const container = document.getElementById(containerId);
    container.innerHTML = "";

    tasks[listName].forEach((task, i)=>{
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
            <div class="task-title">${task.title}</div>
            <div class="task-time">${task.date} ï½œ ${task.time}</div>
            <div style="margin-top:6px;font-size:13px;color:#555;">${task.note}</div>
            <div class="task-status status-${task.status}" onclick="toggleStatus('${listName}',${i})">
                ${task.status}
            </div>
        `;
        container.appendChild(card);
    });
}


// ======================= çŠ¶æ€åˆ‡æ¢ ======================= //

function toggleStatus(listName, index){
    const order = ["æœªå¼€å§‹","è¿›è¡Œä¸­","å·²å®Œæˆ"];
    let cur = tasks[listName][index].status;
    tasks[listName][index].status = order[(order.indexOf(cur)+1)%3];
    saveTasks();
    renderTasks("week1","week1");
    renderTasks("week2","week2");
}


// ======================= åˆæ¬¡æ¸²æŸ“ ======================= //

renderTasks("week1","week1");
renderTasks("week2","week2");

</script>

</body>
</html>
